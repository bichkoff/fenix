
(function(b){var a=b.tablesorter=b.tablesorter||{};a.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",sortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}};b.extend(a.css,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",wrapper:"tablesorter-wrapper",resizer:"tablesorter-resizer",sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible"});a.storage=function(p,m,j,q){p=b(p)[0];var l,o,f,g=false,k={},i=p.config,n=b(p),e=q&&q.id||n.attr(q&&q.group||"data-table-group")||p.id||b(".tablesorter").index(n),d=q&&q.url||n.attr(q&&q.page||"data-table-page")||i&&i.fixedUrl||window.location.pathname;if("localStorage" in window){try{window.localStorage.setItem("_tmptest","temp");g=true;window.localStorage.removeItem("_tmptest")}catch(h){}}if(b.parseJSON){if(g){k=b.parseJSON(localStorage[m]||"{}")}else{o=document.cookie.split(/[;\s|=]/);l=b.inArray(m,o)+1;k=(l!==0)?b.parseJSON(o[l]||"{}"):{}}}if((j||j==="")&&window.JSON&&JSON.hasOwnProperty("stringify")){if(!k[d]){k[d]={}}k[d][e]=j;if(g){localStorage[m]=JSON.stringify(k)}else{f=new Date();f.setTime(f.getTime()+(31536000000));document.cookie=m+"="+(JSON.stringify(k)).replace(/\"/g,'"')+"; expires="+f.toGMTString()+"; path=/"}}else{return k&&k[d]?k[d][e]:""}};a.addHeaderResizeEvent=function(k,g,e){k=b(k)[0];var d,f={timer:250},l=b.extend({},f,e),h=k.config,j=h.widgetOptions,i=function(c){j.resize_flag=true;d=[];h.$headers.each(function(){var n=b(this),p=n.data("savedSizes")||[0,0],o=this.offsetWidth,m=this.offsetHeight;if(o!==p[0]||m!==p[1]){n.data("savedSizes",[o,m]);d.push(this)}});if(d.length&&c!==false){h.$table.trigger("resize",[d])}j.resize_flag=false};i(false);clearInterval(j.resize_timer);if(g){j.resize_flag=false;return false}j.resize_timer=setInterval(function(){if(j.resize_flag){return}i()},l.timer)};a.addWidget({id:"uitheme",priority:10,format:function(t,m,p){var j,e,f,d,k,o,s,r=a.themes,q=m.$table,l=m.$headers,h=m.theme||"jui",n=r[h]||r.jui,g=n.sortNone+" "+n.sortDesc+" "+n.sortAsc;if(m.debug){e=new Date()}if(!q.hasClass("tablesorter-"+h)||m.theme===h||!t.hasInitialized){if(n.even!==""){p.zebra[0]+=" "+n.even}if(n.odd!==""){p.zebra[1]+=" "+n.odd}q.find("caption").addClass(n.caption);o=q.removeClass(m.theme===""?"":"tablesorter-"+m.theme).addClass("tablesorter-"+h+" "+n.table).find("tfoot");if(o.length){o.find("tr").addClass(n.footerRow).children("th, td").addClass(n.footerCells)}l.addClass(n.header).not(".sorter-false").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(c){b(this)[c.type==="mouseenter"?"addClass":"removeClass"](n.hover)});if(!l.find("."+a.css.wrapper).length){l.wrapInner('<div class="'+a.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}if(m.cssIcon){l.find("."+a.css.icon).addClass(n.icons)}if(q.hasClass("hasFilters")){l.find("."+a.css.filterRow).addClass(n.filterRow)}}for(j=0;j<m.columns;j++){d=m.$headers.add(m.$extraHeaders).filter('[data-column="'+j+'"]');k=(a.css.icon)?d.find("."+a.css.icon):d;s=m.$headers.filter('[data-column="'+j+'"]:last');if(s.length){if(s[0].sortDisabled){d.removeClass(g);k.removeClass(g+" "+n.icons)}else{f=(d.hasClass(a.css.sortAsc))?n.sortAsc:(d.hasClass(a.css.sortDesc))?n.sortDesc:d.hasClass(a.css.header)?n.sortNone:"";d[f===n.sortNone?"removeClass":"addClass"](n.active);k.removeClass(g).addClass(f)}}}if(m.debug){a.benchmark("Applying "+h+" theme",e)}},remove:function(h,j){var f=j.$table,i=j.theme||"jui",e=a.themes[i]||a.themes.jui,g=f.children("thead").children(),d=e.sortNone+" "+e.sortDesc+" "+e.sortAsc;f.removeClass("tablesorter-"+i+" "+e.table).find(a.css.header).removeClass(e.header);g.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(e.hover+" "+d+" "+e.active).find("."+a.css.filterRow).removeClass(e.filterRow);g.find("."+a.css.icon).removeClass(e.icons)}});a.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(q,r,d){var e,l,k,m,h,n,o,u,t,i=r.$table,f=r.$tbodies,s=r.sortList,p=s.length,j=d&&d.columns||["primary","secondary","tertiary"],g=j.length-1;u=j.join(" ");if(r.debug){e=new Date()}for(k=0;k<f.length;k++){l=a.processTbody(q,f.eq(k),true);m=l.children("tr");m.each(function(){n=b(this);if(this.style.display!=="none"){o=n.children().removeClass(u);if(s&&s[0]){o.eq(s[0][0]).addClass(j[0]);if(p>1){for(t=1;t<p;t++){o.eq(s[t][0]).addClass(j[t]||j[g])}}}}});a.processTbody(q,l,false)}h=d.columns_thead!==false?["thead tr"]:[];if(d.columns_tfoot!==false){h.push("tfoot tr")}if(h.length){m=i.find(h.join(",")).children().removeClass(u);if(p){for(t=0;t<p;t++){m.filter('[data-column="'+s[t][0]+'"]').addClass(j[t]||j[g])}}}if(r.debug){a.benchmark("Applying Columns widget",e)}},remove:function(h,j,g){var f,e,i=j.$tbodies,d=(g.columns||["primary","secondary","tertiary"]).join(" ");j.$headers.removeClass(d);j.$table.children("tfoot").children("tr").children("th, td").removeClass(d);for(f=0;f<i.length;f++){e=a.processTbody(h,i.eq(f),true);e.children("tr").each(function(){b(this).children().removeClass(d)});a.processTbody(h,e,false)}}});a.addWidget({id:"filter",priority:50,options:{filter_childRows:false,filter_columnFilters:true,filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:true,filter_hideFilters:false,filter_ignoreCase:true,filter_liveSearch:true,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:false,filter_searchDelay:300,filter_searchFiltered:true,filter_selectSource:null,filter_startsWith:false,filter_useParsedData:false,filter_serversideFiltering:false,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(e,f,d){if(!f.$table.hasClass("hasFilters")){a.filter.init(e,f,d)}},remove:function(h,j,g){var f,d,e=j.$table,i=j.$tbodies;e.removeClass("hasFilters").unbind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(j.namespace+"filter ")).find("."+a.css.filterRow).remove();for(f=0;f<i.length;f++){d=a.processTbody(h,i.eq(f),true);d.children().removeClass(g.filter_filteredRow).show();a.processTbody(h,d,false)}if(g.filter_reset){b(document).undelegate(g.filter_reset,"click.tsfilter")}}});a.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=]+)|([\"|\'|=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g,query:"(q|query)"},types:{regex:function(h,g){if(a.filter.regex.regex.test(g.iFilter)){var f,e=a.filter.regex.regex.exec(g.iFilter);try{f=new RegExp(e[1],e[2]).test(g.iExact)}catch(d){f=false}return f}return null},operators:function(i,g){if(/^[<>]=?/.test(g.iFilter)){var e,m,l=i.table,h=g.index,k=g.parsed[h],j=a.formatFloat(g.iFilter.replace(a.filter.regex.operators,""),l),d=i.parsers[h],f=j;if(k||d.type==="numeric"){m=a.filter.parseFilter(i,b.trim(""+g.iFilter.replace(a.filter.regex.operators,"")),h,k,true);j=(typeof m==="number"&&m!==""&&!isNaN(m))?m:j}e=(k||d.type==="numeric")&&!isNaN(j)&&typeof g.cache!=="undefined"?g.cache:isNaN(g.iExact)?a.formatFloat(g.iExact.replace(a.filter.regex.nondigit,""),l):a.formatFloat(g.iExact,l);if(/>/.test(g.iFilter)){m=/>=/.test(g.iFilter)?e>=j:e>j}if(/</.test(g.iFilter)){m=/<=/.test(g.iFilter)?e<=j:e<j}if(!m&&f===""){m=true}return m}return null},notMatch:function(g,f){if(/^\!/.test(f.iFilter)){var e,d=a.filter.parseFilter(g,f.iFilter.replace("!",""),f.index,f.parsed[f.index]);if(a.filter.regex.exact.test(d)){d=d.replace(a.filter.regex.exact,"");return d===""?true:b.trim(d)!==f.iExact}else{e=f.iExact.search(b.trim(d));return d===""?true:!(g.widgetOptions.filter_startsWith?e===0:e>=0)}}return null},exact:function(f,e){if(a.filter.regex.exact.test(e.iFilter)){var d=a.filter.parseFilter(f,e.iFilter.replace(a.filter.regex.exact,""),e.index,e.parsed[e.index]);return e.anyMatch?b.inArray(d,e.rowArray)>=0:d==e.iExact}return null},and:function(j,i){if(a.filter.regex.andTest.test(i.filter)){var f=i.index,e=i.parsed[f],h=i.iFilter.split(a.filter.regex.andSplit),d=i.iExact.search(b.trim(a.filter.parseFilter(j,h[0],f,e)))>=0,g=h.length-1;while(d&&g){d=d&&i.iExact.search(b.trim(a.filter.parseFilter(j,h[g],f,e)))>=0;g--}return d}return null},range:function(g,d){if(a.filter.regex.toTest.test(d.iFilter)){var m,e,l=g.table,f=d.index,i=d.parsed[f],h=d.iFilter.split(a.filter.regex.toSplit),k=a.formatFloat(a.filter.parseFilter(g,h[0].replace(a.filter.regex.nondigit,""),f,i),l),j=a.formatFloat(a.filter.parseFilter(g,h[1].replace(a.filter.regex.nondigit,""),f,i),l);if(i||g.parsers[f].type==="numeric"){m=g.parsers[f].format(""+h[0],l,g.$headers.eq(f),f);k=(m!==""&&!isNaN(m))?m:k;m=g.parsers[f].format(""+h[1],l,g.$headers.eq(f),f);j=(m!==""&&!isNaN(m))?m:j}m=(i||g.parsers[f].type==="numeric")&&!isNaN(k)&&!isNaN(j)?d.cache:isNaN(d.iExact)?a.formatFloat(d.iExact.replace(a.filter.regex.nondigit,""),l):a.formatFloat(d.iExact,l);if(k>j){e=k;k=j;j=e}return(m>=k&&m<=j)||(k===""||j==="")}return null},wild:function(h,g){if(/[\?|\*]/.test(g.iFilter)||a.filter.regex.orReplace.test(g.filter)){var e=g.index,d=g.parsed[e],f=a.filter.parseFilter(h,g.iFilter.replace(a.filter.regex.orReplace,"|"),e,d);if(!h.$headers.filter('[data-column="'+e+'"]:last').hasClass("filter-match")&&/\|/.test(f)){f=g.anyMatch&&b.isArray(g.rowArray)?"("+f+")":"^("+f+")$"}return new RegExp(f.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(g.iExact)}return null},fuzzy:function(i,h){if(/^~/.test(h.iFilter)){var f,e=0,d=h.iExact.length,g=a.filter.parseFilter(i,h.iFilter.slice(1),h.index,h.parsed[h.index]);for(f=0;f<d;f++){if(h.iExact[f]===g[e]){e+=1}}if(e===g.length){return true}return false}return null}},init:function(p,m,o){a.language=b.extend(true,{},{to:"to",or:"or",and:"and"},a.language);var q,k,i,d,h,e,f,g,l,j,n=a.filter.regex;if(m.debug){g=new Date()}m.$table.addClass("hasFilters");o.searchTimer=null;o.filter_initTimer=null;o.filter_formatterCount=0;o.filter_formatterInit=[];o.filter_initializing=true;i="\\{"+a.filter.regex.query+"\\}";b.extend(n,{child:new RegExp(m.cssChildRow),filtered:new RegExp(o.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+a.language.or+"|-|"+a.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+a.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+a.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+a.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+a.language.and+"|&&)\\s+)","gi"),orReplace:new RegExp("\\s+("+a.language.or+")\\s+","gi"),iQuery:new RegExp(i,"i"),igQuery:new RegExp(i,"ig")});if(o.filter_columnFilters!==false&&m.$headers.filter(".filter-false, .parser-false").length!==m.$headers.length){a.filter.buildRow(p,m,o)}m.$table.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(m.namespace+"filter "),function(r,c){m.$table.find("."+a.css.filterRow).toggle(!(o.filter_hideEmpty&&b.isEmptyObject(m.cache)&&!(m.delayInit&&r.type==="appendCache")));if(!/(search|filter)/.test(r.type)){r.stopPropagation();a.filter.buildDefault(p,true)}if(r.type==="filterReset"){m.$table.find("."+a.css.filter).add(o.filter_$externalFilters).val("");a.filter.searching(p,[])}else{if(r.type==="filterEnd"){a.filter.buildDefault(p,true)}else{c=r.type==="search"?c:r.type==="updateComplete"?m.$table.data("lastSearch"):"";if(/(update|add)/.test(r.type)&&r.type!=="updateComplete"){m.lastCombinedFilter=null;m.lastSearch=[]}a.filter.searching(p,c,true)}}return false});if(o.filter_reset){if(o.filter_reset instanceof b){o.filter_reset.click(function(){m.$table.trigger("filterReset")})}else{if(b(o.filter_reset).length){b(document).undelegate(o.filter_reset,"click.tsfilter").delegate(o.filter_reset,"click.tsfilter",function(){m.$table.trigger("filterReset")})}}}if(o.filter_functions){for(h=0;h<m.columns;h++){l=a.getColumnData(p,o.filter_functions,h);if(l){d=m.$headers.filter('[data-column="'+h+'"]:last').removeClass("filter-select");j=!(d.hasClass("filter-false")||d.hasClass("parser-false"));q="";if(l===true&&j){a.filter.buildSelect(p,h)}else{if(typeof l==="object"&&j){for(k in l){if(typeof k==="string"){q+=q===""?'<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||o.filter_placeholder.select||"")+"</option>":"";f=k;i=k;if(k.indexOf(o.filter_selectSourceSeparator)>=0){f=k.split(o.filter_selectSourceSeparator);i=f[1];f=f[0]}q+="<option "+(i===f?"":'data-function-name="'+k+'" ')+'value="'+f+'">'+i+"</option>"}}m.$table.find("thead").find("select."+a.css.filter+'[data-column="'+h+'"]').append(q)}}}}}a.filter.buildDefault(p,true);a.filter.bindSearch(p,m.$table.find("."+a.css.filter),true);if(o.filter_external){a.filter.bindSearch(p,o.filter_external)}if(o.filter_hideFilters){a.filter.hideFilters(p,m)}if(m.showProcessing){m.$table.bind("filterStart"+m.namespace+"filter filterEnd"+m.namespace+"filter",function(r,c){d=(c)?m.$table.find("."+a.css.header).filter("[data-column]").filter(function(){return c[b(this).data("column")]!==""}):"";a.isProcessing(p,r.type==="filterStart",c?d:"")})}m.filteredRows=m.totalRows;if(m.debug){a.benchmark("Applying Filter widget",g)}m.$table.bind("tablesorter-initialized pagerInitialized",function(){var c=this.config.widgetOptions;e=a.filter.setDefaults(p,m,c)||[];if(e.length){if(!(m.delayInit&&e.join("")==="")){a.setFilters(p,e,true)}}m.$table.trigger("filterFomatterUpdate");setTimeout(function(){if(!c.filter_initialized){a.filter.filterInitComplete(m)}},100)});if(m.pager&&m.pager.initialized&&!o.filter_initialized){m.$table.trigger("filterFomatterUpdate");setTimeout(function(){a.filter.filterInitComplete(m)},100)}},formatterUpdated:function(e,d){var c=e.closest("table")[0].config.widgetOptions;if(!c.filter_initialized){c.filter_formatterInit[d]=1}},filterInitComplete:function(g){var e=g.widgetOptions,f=0,d=function(){e.filter_initialized=true;e.filter_initializing=false;a.filter.findRows(g.table,g.$table.data("lastSearch"),null);g.$table.trigger("filterInit",g)};b.each(e.filter_formatterInit,function(c,h){if(h===1){f++}});clearTimeout(e.filter_initTimer);if(!e.filter_initialized&&f===e.filter_formatterCount){d()}else{if(!e.filter_initialized){e.filter_initTimer=setTimeout(function(){d()},500)}}},setDefaults:function(i,j,e){var d,h,g,f=a.getFilters(i)||[];if(e.filter_saveFilters&&a.storage){h=a.storage(i,"tablesorter-filters")||[];d=b.isArray(h);if(!(d&&h.join("")===""||!d)){f=h}}if(f.join("")===""){for(g=0;g<j.columns;g++){f[g]=j.$headers.filter('[data-column="'+g+'"]:last').attr(e.filter_defaultAttrib)||f[g]}}j.$table.data("lastSearch",f);return f},parseFilter:function(h,f,e,d,g){return g||d?h.parsers[e].format(f,h.table,[],e):f},buildRow:function(o,k,m){var g,i,e,l,j,f,d,h=k.columns,n='<tr role="row" class="'+a.css.filterRow+'">';for(i=0;i<h;i++){n+="<td></td>"}k.$filters=b(n+="</tr>").appendTo(k.$table.children("thead").eq(0)).find("td");for(i=0;i<h;i++){j=false;e=k.$headers.filter('[data-column="'+i+'"]:last');d=a.getColumnData(o,m.filter_functions,i);l=(m.filter_functions&&d&&typeof d!=="function")||e.hasClass("filter-select");g=a.getColumnData(o,k.headers,i);j=a.getData(e[0],g,"filter")==="false"||a.getData(e[0],g,"parser")==="false";if(l){n=b("<select>").appendTo(k.$filters.eq(i))}else{d=a.getColumnData(o,m.filter_formatter,i);if(d){m.filter_formatterCount++;n=d(k.$filters.eq(i),i);if(n&&n.length===0){n=k.$filters.eq(i).children("input")}if(n&&(n.parent().length===0||(n.parent().length&&n.parent()[0]!==k.$filters[i]))){k.$filters.eq(i).append(n)}}else{n=b('<input type="search">').appendTo(k.$filters.eq(i))}if(n){n.attr("placeholder",e.data("placeholder")||e.attr("data-placeholder")||m.filter_placeholder.search||"")}}if(n){f=(b.isArray(m.filter_cssFilter)?(typeof m.filter_cssFilter[i]!=="undefined"?m.filter_cssFilter[i]||"":""):m.filter_cssFilter)||"";n.addClass(a.css.filter+" "+f).attr("data-column",i);if(j){n.attr("placeholder","").addClass("disabled")[0].disabled=true}}}},bindSearch:function(g,e,d){g=b(g)[0];e=b(e);if(!e.length){return}var i=g.config,f=i.widgetOptions,h=f.filter_$externalFilters;if(d!==true){f.filter_$anyMatch=e.filter('[data-column="all"]');if(h&&h.length){f.filter_$externalFilters=f.filter_$externalFilters.add(e)}else{f.filter_$externalFilters=e}a.setFilters(g,i.$table.data("lastSearch")||[],d===false)}e.attr("data-lastSearchTime",new Date().getTime()).unbind("keypress keyup search change ".split(" ").join(i.namespace+"filter ")).bind("keyup"+i.namespace+"filter",function(c){b(this).attr("data-lastSearchTime",new Date().getTime());if(c.which===27){this.value=""}else{if(f.filter_liveSearch===false){return}else{if(this.value!==""&&((typeof f.filter_liveSearch==="number"&&this.value.length<f.filter_liveSearch)||(c.which!==13&&c.which!==8&&(c.which<32||(c.which>=37&&c.which<=40))))){return}}}a.filter.searching(g,true,true)}).bind("search change keypress ".split(" ").join(i.namespace+"filter "),function(j){var c=b(this).data("column");if(j.which===13||j.type==="search"||j.type==="change"&&this.value!==i.lastSearch[c]){j.preventDefault();b(this).attr("data-lastSearchTime",new Date().getTime());a.filter.searching(g,false,true)}})},searching:function(f,e,d){var c=f.config.widgetOptions;clearTimeout(c.searchTimer);if(typeof e==="undefined"||e===true){c.searchTimer=setTimeout(function(){a.filter.checkFilters(f,e,d)},c.filter_liveSearch?c.filter_searchDelay:10)}else{a.filter.checkFilters(f,e,d)}},checkFilters:function(i,g,f){var k=i.config,e=k.widgetOptions,d=b.isArray(g),h=(d)?g:a.getFilters(i,true),j=(h||[]).join("");if(b.isEmptyObject(k.cache)){if(k.delayInit&&k.pager&&k.pager.initialized){k.$table.trigger("updateCache",[function(){a.filter.checkFilters(i,false,f)}])}return}if(d){a.setFilters(i,h,false,f!==true);if(!e.filter_initialized){k.lastCombinedFilter=""}}if(e.filter_hideFilters){k.$table.find("."+a.css.filterRow).trigger(j===""?"mouseleave":"mouseenter")}if(k.lastCombinedFilter===j&&g!==false){return}else{if(g===false){k.lastCombinedFilter=null;k.lastSearch=[]}}if(e.filter_initialized){k.$table.trigger("filterStart",[h])}if(k.showProcessing){setTimeout(function(){a.filter.findRows(i,h,j);return false},30)}else{a.filter.findRows(i,h,j);return false}},hideFilters:function(e,h){var f,d,g;b(e).find("."+a.css.filterRow).addClass("hideme").bind("mouseenter mouseleave",function(i){var c=i;f=b(this);clearTimeout(g);g=setTimeout(function(){if(/enter|over/.test(c.type)){f.removeClass("hideme")}else{if(b(document.activeElement).closest("tr")[0]!==f[0]){if(h.lastCombinedFilter===""){f.addClass("hideme")}}}},200)}).find("input, select").bind("focus blur",function(i){d=b(this).closest("tr");clearTimeout(g);var c=i;g=setTimeout(function(){if(a.getFilters(h.$table).join("")===""){d[c.type==="focus"?"removeClass":"addClass"]("hideme")}},200)})},defaultFilter:function(e,d){if(e===""){return e}var h=a.filter.regex.iQuery,g=d.match(a.filter.regex.igQuery).length,i=g>1?b.trim(e).split(/\s/):[b.trim(e)],c=i.length-1,f=0,j=d;if(c<1&&g>1){i[1]=i[0]}while(h.test(j)){j=j.replace(h,i[f++]||"");if(h.test(j)&&f<c&&(i[f]||"")!==""){j=d.replace(h,j)}}return j},findRows:function(C,o,n){if(C.config.lastCombinedFilter===n||C.config.widgetOptions.filter_initializing){return}var B,t,p,r,s,A,k,E,z,x,g,e,q,u,l,I,H,w,d,j,v,F,f,i=a.filter.regex,D=C.config,h=D.widgetOptions,m=D.$table.children("tbody"),G={anyMatch:false},y=["range","notMatch","operators"];G.parsed=D.$headers.map(function(c){return D.parsers&&D.parsers[c]&&D.parsers[c].parsed||a.getData&&a.getData(D.$headers.filter('[data-column="'+c+'"]:last'),a.getColumnData(C,D.headers,c),"filter")==="parsed"||b(this).hasClass("filter-parsed")}).get();if(D.debug){l=new Date()}D.filteredRows=0;D.totalRows=0;for(r=0;r<m.length;r++){if(m.eq(r).hasClass(D.cssInfoBlock||a.css.info)){continue}s=a.processTbody(C,m.eq(r),true);E=D.columns;t=b(b.map(D.cache[r].normalized,function(c){return c[E].$row.get()}));if(n===""||h.filter_serversideFiltering){t.removeClass(h.filter_filteredRow).not("."+D.cssChildRow).show()}else{t=t.not("."+D.cssChildRow);B=t.length;d=h.filter_searchFiltered;x=D.lastSearch||D.$table.data("lastSearch")||[];if(d){for(H=0;H<E+1;H++){I=o[H]||"";if(!d){H=E}d=d&&x.length&&I.indexOf(x[H]||"")===0&&!i.alreadyFiltered.test(I)&&!/[=\"\|!]/.test(I)&&!(/(>=?\s*-\d)/.test(I)||/(<=?\s*\d)/.test(I))&&!(I!==""&&D.$filters&&D.$filters.eq(H).find("select").length&&!D.$headers.filter('[data-column="'+H+'"]:last').hasClass("filter-match"))}}w=t.not("."+h.filter_filteredRow).length;if(d&&w===0){d=false}if(D.debug){a.log("Searching through "+(d&&w<B?w:"all")+" rows")}if((h.filter_$anyMatch&&h.filter_$anyMatch.length)||o[D.columns]){G.anyMatchFlag=true;G.anyMatchFilter=h.filter_$anyMatch&&h.filter_$anyMatch.val()||o[D.columns]||"";if(D.sortLocaleCompare){G.anyMatchFilter=a.replaceAccents(G.anyMatchFilter)}if(h.filter_defaultFilter&&i.iQuery.test(a.getColumnData(C,h.filter_defaultFilter,D.columns,true)||"")){G.anyMatchFilter=a.filter.defaultFilter(G.anyMatchFilter,a.getColumnData(C,h.filter_defaultFilter,D.columns,true));d=false}G.iAnyMatchFilter=G.anyMatchFilter}for(p=0;p<B;p++){G.cacheArray=D.cache[r].normalized[p];z=t[p].className;if(i.child.test(z)||(d&&i.filtered.test(z))){continue}u=true;z=t.eq(p).nextUntil("tr:not(."+D.cssChildRow+")");G.childRowText=(z.length&&h.filter_childRows)?z.text():"";G.childRowText=h.filter_ignoreCase?G.childRowText.toLocaleLowerCase():G.childRowText;A=t.eq(p).children();if(G.anyMatchFlag){G.anyMatch=true;G.rowArray=A.map(function(J){var c;if(G.parsed[J]){c=G.cacheArray[J]}else{c=h.filter_ignoreCase?b(this).text().toLowerCase():b(this).text();if(D.sortLocaleCompare){c=a.replaceAccents(c)}}return c}).get();G.filter=G.anyMatchFilter;G.iFilter=G.iAnyMatchFilter;G.exact=G.rowArray.join(" ");G.iExact=G.exact.toLowerCase();G.cache=G.cacheArray.slice(0,-1).join(" ");j=null;b.each(a.filter.types,function(J,c){if(b.inArray(J,y)<0){e=c(D,G);if(e!==null){j=e;return false}}});if(j!==null){u=j}else{if(h.filter_startsWith){u=false;E=D.columns;while(!u&&E>0){E--;u=u||G.rowArray[E].indexOf(G.iFilter)===0}}else{u=(G.iExact+G.childRowText).indexOf(G.iFilter)>=0}}G.anyMatch=false}for(E=0;E<D.columns;E++){G.filter=o[E];G.index=E;v=(a.getColumnData(C,h.filter_excludeFilter,E,true)||"").split(/\s+/);if(G.filter){G.cache=G.cacheArray[E];if(h.filter_useParsedData||G.parsed[E]){G.exact=G.cache}else{G.exact=b.trim(A.eq(E).text());G.exact=D.sortLocaleCompare?a.replaceAccents(G.exact):G.exact}G.iExact=!i.type.test(typeof G.exact)&&h.filter_ignoreCase?G.exact.toLocaleLowerCase():G.exact;q=u;f=h.filter_columnFilters?D.$filters.add(D.$externalFilters).filter('[data-column="'+E+'"]').find("select option:selected").attr("data-function-name")||"":"";G.filter=D.sortLocaleCompare?a.replaceAccents(G.filter):G.filter;I=true;if(h.filter_defaultFilter&&i.iQuery.test(a.getColumnData(C,h.filter_defaultFilter,E)||"")){G.filter=a.filter.defaultFilter(G.filter,a.getColumnData(C,h.filter_defaultFilter,E));I=false}G.iFilter=h.filter_ignoreCase?(G.filter||"").toLocaleLowerCase():G.filter;F=a.getColumnData(C,h.filter_functions,E);k=D.$headers.filter('[data-column="'+E+'"]:last');g=k.hasClass("filter-select");if(F||(g&&I)){if(F===true||g){q=(k.hasClass("filter-match"))?G.iExact.search(G.iFilter)>=0:G.filter===G.exact}else{if(typeof F==="function"){q=F(G.exact,G.cache,G.filter,E,t.eq(p))}else{if(typeof F[f||G.filter]==="function"){q=F[f||G.filter](G.exact,G.cache,G.filter,E,t.eq(p))}}}}else{j=null;b.each(a.filter.types,function(J,c){if(b.inArray(J,v)<0){e=c(D,G);if(e!==null){j=e;return false}}});if(j!==null){q=j}else{G.exact=(G.iExact+G.childRowText).indexOf(a.filter.parseFilter(D,G.iFilter,E,G.parsed[E]));q=((!h.filter_startsWith&&G.exact>=0)||(h.filter_startsWith&&G.exact===0))}}u=(q)?u:false}}t.eq(p).toggle(u).toggleClass(h.filter_filteredRow,!u);if(z.length){z.toggleClass(h.filter_filteredRow,!u)}}}D.filteredRows+=t.not("."+h.filter_filteredRow).length;D.totalRows+=t.length;a.processTbody(C,s,false)}D.lastCombinedFilter=n;D.lastSearch=o;D.$table.data("lastSearch",o);if(h.filter_saveFilters&&a.storage){a.storage(C,"tablesorter-filters",o)}if(D.debug){a.benchmark("Completed filter widget search",l)}if(h.filter_initialized){D.$table.trigger("filterEnd",D)}setTimeout(function(){D.$table.trigger("applyWidgets")},0)},getOptionSource:function(n,f,g){var e,j=n.config,l=j.widgetOptions,k=[],h=false,d=l.filter_selectSource,m=j.$table.data("lastSearch")||[],i=b.isFunction(d)?true:a.getColumnData(n,d,f);if(g&&m[f]!==""){g=false}if(i===true){h=d(n,f,g)}else{if(i instanceof b||(b.type(i)==="string"&&i.indexOf("</option>")>=0)){return i}else{if(b.isArray(i)){h=i}else{if(b.type(d)==="object"&&i){h=i(n,f,g)}}}}if(h===false){h=a.filter.getOptions(n,f,g)}h=b.grep(h,function(o,c){return b.inArray(o,h)===c});if(j.$headers.filter('[data-column="'+f+'"]:last').hasClass("filter-select-nosort")){return h}else{b.each(h,function(o,c){k.push({t:c,p:j.parsers&&j.parsers[f].format(c,n,[],f)})});e=j.textSorter||"";k.sort(function(p,o){var c=p.p.toString(),q=o.p.toString();if(b.isFunction(e)){return e(c,q,true,f,n)}else{if(typeof(e)==="object"&&e.hasOwnProperty(f)){return e[f](c,q,true,f,n)}else{if(a.sortNatural){return a.sortNatural(c,q)}}}return true});h=[];b.each(k,function(o,c){h.push(c.t)});return h}},getOptions:function(o,e,g){var k,l,i,p,d,n,j=o.config,m=j.widgetOptions,f=j.$table.children("tbody"),h=[];for(l=0;l<f.length;l++){if(!f.eq(l).hasClass(j.cssInfoBlock)){d=j.cache[l];i=j.cache[l].normalized.length;for(k=0;k<i;k++){p=d.row?d.row[k]:d.normalized[k][j.columns].$row[0];if(g&&p.className.match(m.filter_filteredRow)){continue}if(m.filter_useParsedData||j.parsers[e].parsed||j.$headers.filter('[data-column="'+e+'"]:last').hasClass("filter-parsed")){h.push(""+d.normalized[k][e])}else{n=p.cells[e];if(n){h.push(b.trim(n.textContent||n.innerText||b(n).text()))}}}}}return h},buildSelect:function(r,f,j,o,h){r=b(r)[0];f=parseInt(f,10);if(!r.config.cache||b.isEmptyObject(r.config.cache)){return}var i,d,g,q,k,m,l=r.config,n=l.widgetOptions,e=l.$headers.filter('[data-column="'+f+'"]:last'),s='<option value="">'+(e.data("placeholder")||e.attr("data-placeholder")||n.filter_placeholder.select||"")+"</option>",p=l.$table.find("thead").find("select."+a.css.filter+'[data-column="'+f+'"]').val();if(typeof j==="undefined"||j===""){j=a.filter.getOptionSource(r,f,h)}if(b.isArray(j)){for(i=0;i<j.length;i++){g=j[i]=(""+j[i]).replace(/\"/g,"&quot;");d=g;if(g.indexOf(n.filter_selectSourceSeparator)>=0){q=g.split(n.filter_selectSourceSeparator);d=q[0];g=q[1]}s+=j[i]!==""?"<option "+(d===g?"":'data-function-name="'+j[i]+'" ')+'value="'+d+'">'+g+"</option>":""}j=[]}k=(l.$filters?l.$filters:l.$table.children("thead")).find("."+a.css.filter);if(n.filter_$externalFilters){k=k&&k.length?k.add(n.filter_$externalFilters):n.filter_$externalFilters}m=k.filter('select[data-column="'+f+'"]');if(m.length){m[o?"html":"append"](s);if(!b.isArray(j)){m.append(j).val(p)}m.val(p)}},buildDefault:function(i,h){var g,d,j,k=i.config,f=k.widgetOptions,e=k.columns;for(g=0;g<e;g++){d=k.$headers.filter('[data-column="'+g+'"]:last');j=!(d.hasClass("filter-false")||d.hasClass("parser-false"));if((d.hasClass("filter-select")||a.getColumnData(i,f.filter_functions,g)===true)&&j){a.filter.buildSelect(i,g,"",h,d.hasClass(f.filter_onlyAvail))}}}};a.getFilters=function(m,f,k,n){var e,g,l,d=false,h=m?b(m)[0].config:"",j=h?h.widgetOptions:"";if(f!==true&&j&&!j.filter_columnFilters){return b(m).data("lastSearch")}if(h){if(h.$filters){g=h.$filters.find("."+a.css.filter)}if(j.filter_$externalFilters){g=g&&g.length?g.add(j.filter_$externalFilters):j.filter_$externalFilters}if(g&&g.length){d=k||[];for(e=0;e<h.columns+1;e++){l=g.filter('[data-column="'+(e===h.columns?"all":e)+'"]');if(l.length){l=l.sort(function(i,c){return b(c).attr("data-lastSearchTime")-b(i).attr("data-lastSearchTime")});if(b.isArray(k)){(n?l.slice(1):l).val(k[e]).trigger("change.tsfilter")}else{d[e]=l.val()||"";l.slice(1).val(d[e])}if(e===h.columns&&l.length){j.filter_$anyMatch=l}}}}}if(d.length===0){d=false}return d};a.setFilters=function(h,f,d,e){var i=h?b(h)[0].config:"",g=a.getFilters(h,true,f,e);if(i&&d){i.lastCombinedFilter=null;i.lastSearch=[];a.filter.searching(i.$table[0],f,e);i.$table.trigger("filterFomatterUpdate")}return !!g};a.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:true,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:true,stickyHeaders_includeCaption:true,stickyHeaders_zIndex:2},format:function(p,q,f){if(q.$table.hasClass("hasStickyHeaders")||(b.inArray("filter",q.widgets)>=0&&!q.$table.hasClass("hasFilters"))){return}var m=q.$table,u=b(f.stickyHeaders_attachTo||"window"),l=m.children("thead:first"),o=u.length?u:b(window),s=l.children("tr").not(".sticky-false").children(),r="."+a.css.headerIn,d=m.find("tfoot"),h=isNaN(f.stickyHeaders_offset)?b(f.stickyHeaders_offset):"",i=u.length?0:h.length?h.height()||0:parseInt(f.stickyHeaders_offset,10)||0,v=f.$sticky=m.clone().addClass("containsStickyHeaders").css({position:u.length?"absolute":"fixed",margin:0,top:i,left:0,visibility:"hidden",zIndex:f.stickyHeaders_zIndex?f.stickyHeaders_zIndex:2}),t=v.children("thead:first").addClass(a.css.sticky+" "+f.stickyHeaders),j,n="",g=0,k=m.css("border-collapse")!=="collapse"&&!/(webkit|msie)/i.test(navigator.userAgent),e=function(){i=h.length?h.height()||0:parseInt(f.stickyHeaders_offset,10)||0;g=0;if(k){g=parseInt(s.eq(0).css("border-left-width"),10)*2}v.css({left:u.length?(parseInt(u.css("padding-left"),10)||0)+parseInt(q.$table.css("padding-left"),10)+parseInt(q.$table.css("margin-left"),10)+parseInt(m.css("border-left-width"),10):l.offset().left-o.scrollLeft()-g,width:m.width()});j.filter(":visible").each(function(c){var w=s.filter(":visible").eq(c),x=k&&b(this).attr("data-column")===(""+parseInt(q.columns/2,10))?1:0;b(this).css({width:w.width()-g}).find(r).width(w.find(r).width()-x)})};if(v.attr("id")){v[0].id+=f.stickyHeaders_cloneId}v.find("thead:gt(0), tr.sticky-false").hide();v.find("tbody, tfoot").remove();if(!f.stickyHeaders_includeCaption){v.find("caption").remove()}else{v.find("caption").css("margin-left","-1px")}j=t.children().children();v.css({height:0,width:0,padding:0,margin:0,border:0});j.find("."+a.css.resizer).remove();m.addClass("hasStickyHeaders").bind("pagerComplete.tsSticky",function(){e()});a.bindEvents(p,t.children().children(".tablesorter-header"));m.after(v);o.bind("scroll.tsSticky resize.tsSticky",function(y){if(!m.is(":visible")){return}var z="tablesorter-sticky-",B=m.offset(),x=(f.stickyHeaders_includeCaption?0:m.find("caption").outerHeight(true)),A=(u.length?u.offset().top:o.scrollTop())+i-x,w=m.height()-(v.height()+(d.height()||0)),c=(A>B.top)&&(A<B.top+w)?"visible":"hidden",C={visibility:c};if(u.length){C.top=u.scrollTop()}else{C.left=l.offset().left-o.scrollLeft()-g}v.removeClass(z+"visible "+z+"hidden").addClass(z+c).css(C);if(c!==n||y.type==="resize"){e();n=c}});if(f.stickyHeaders_addResizeEvent){a.addHeaderResizeEvent(p)}if(m.hasClass("hasFilters")){m.bind("filterEnd",function(){var w=b(document.activeElement).closest("td"),c=w.parent().children().index(w);if(v.hasClass(a.css.stickyVis)&&f.stickyHeaders_filteredToTop){window.scrollTo(0,m.position().top);if(c>=0&&q.$filters){q.$filters.eq(c).find("a, select, input").filter(":visible").focus()}}});a.filter.bindSearch(m,j.find("."+a.css.filter));if(f.filter_hideFilters){a.filter.hideFilters(v,q)}}m.trigger("stickyHeadersInit")},remove:function(e,f,d){f.$table.removeClass("hasStickyHeaders").unbind("pagerComplete.tsSticky").find("."+a.css.sticky).remove();if(d.$sticky&&d.$sticky.length){d.$sticky.remove()}if(!b(".hasStickyHeaders").length){b(window).unbind("scroll.tsSticky resize.tsSticky")}a.addHeaderResizeEvent(e,false)}});a.addWidget({id:"resizable",priority:40,options:{resizable:true,resizable_addLastColumn:false,resizable_widths:[],resizable_throttle:false},format:function(s,k,l){if(k.$table.hasClass("hasResizable")){return}k.$table.addClass("hasResizable");a.resizableReset(s,true);var q,m,p,g,e,i={},r=k.$table,d=0,f=null,h=null,n=Math.abs(r.parent().width()-r.width())<20,o=function(t){if(d===0||!f){return}var u=t.pageX-d,c=f.width();f.width(c+u);if(f.width()!==c&&n){h.width(h.width()-u)}d=t.pageX},j=function(){if(a.storage&&f&&h){i={};i[f.index()]=f.width();i[h.index()]=h.width();f.width(i[f.index()]);h.width(i[h.index()]);if(l.resizable!==false){a.storage(s,"tablesorter-resizable",k.$headers.map(function(){return b(this).width()}).get())}}d=0;f=h=null;b(window).trigger("resize")};i=(a.storage&&l.resizable!==false)?a.storage(s,"tablesorter-resizable"):{};if(i){for(g in i){if(!isNaN(g)&&g<k.$headers.length){k.$headers.eq(g).width(i[g])}}}q=r.children("thead:first").children("tr");q.children().each(function(){var t,c=b(this);g=c.attr("data-column");t=a.getData(c,a.getColumnData(s,k.headers,g),"resizable")==="false";q.children().filter('[data-column="'+g+'"]')[t?"addClass":"removeClass"]("resizable-false")});q.each(function(){p=b(this).children().not(".resizable-false");if(!b(this).find("."+a.css.wrapper).length){p.wrapInner('<div class="'+a.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}if(!l.resizable_addLastColumn){p=p.slice(0,-1)}m=m?m.add(p):p});m.each(function(){var t=b(this),c=parseInt(t.css("padding-right"),10)+10;t.find("."+a.css.wrapper).append('<div class="'+a.css.resizer+'" style="cursor:w-resize;position:absolute;z-index:1;right:-'+c+'px;top:0;height:100%;width:20px;"></div>')}).find("."+a.css.resizer).bind("mousedown",function(t){f=b(t.target).closest("th");var c=k.$headers.filter('[data-column="'+f.attr("data-column")+'"]');if(c.length>1){f=f.add(c)}h=t.shiftKey?f.parent().find("th").not(".resizable-false").filter(":last"):f.nextAll(":not(.resizable-false)").eq(0);d=t.pageX});b(document).bind("mousemove.tsresize",function(c){if(d===0||!f){return}if(l.resizable_throttle){clearTimeout(e);e=setTimeout(function(){o(c)},isNaN(l.resizable_throttle)?5:l.resizable_throttle)}else{o(c)}}).bind("mouseup.tsresize",function(){j()});r.find("thead:first").bind("contextmenu.tsresize",function(){a.resizableReset(s);var c=b.isEmptyObject?b.isEmptyObject(i):true;i={};return c})},remove:function(d,e){e.$table.removeClass("hasResizable").children("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").children("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find("."+a.css.resizer).remove();a.resizableReset(d)}});a.resizableReset=function(d,c){b(d).each(function(){var g,f=this.config,e=f&&f.widgetOptions;if(d&&f){f.$headers.each(function(h){g=b(this);if(e.resizable_widths[h]){g.css("width",e.resizable_widths[h])}else{if(!g.hasClass("resizable-false")){g.css("width","")}}});if(a.storage&&!c){a.storage(this,"tablesorter-resizable",{})}}})};a.addWidget({id:"saveSort",priority:20,options:{saveSort:true},init:function(f,e,g,d){e.format(f,g,d,true)},format:function(l,h,i,k){var g,d,j=h.$table,e=i.saveSort!==false,f={sortList:h.sortList};if(h.debug){d=new Date()}if(j.hasClass("hasSaveSort")){if(e&&l.hasInitialized&&a.storage){a.storage(l,"tablesorter-savesort",f);if(h.debug){a.benchmark("saveSort widget: Saving last sort: "+h.sortList,d)}}}else{j.addClass("hasSaveSort");f="";if(a.storage){g=a.storage(l,"tablesorter-savesort");f=(g&&g.hasOwnProperty("sortList")&&b.isArray(g.sortList))?g.sortList:"";if(h.debug){a.benchmark('saveSort: Last sort loaded: "'+f+'"',d)}j.bind("saveSortReset",function(c){c.stopPropagation();a.storage(l,"tablesorter-savesort","")})}if(k&&f&&f.length>0){h.sortList=f}else{if(l.hasInitialized&&f&&f.length>0){j.trigger("sorton",[f])}}}},remove:function(c){if(a.storage){a.storage(c,"tablesorter-savesort","")}}})})(jQuery);